¿iexportTaggdefaultnoriginalSampley‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
gmutantsŸy×// Original bug: KT-21362
// Duplicated bug: KT-10835


val i = false
if (i) {open class A1(y: String) {
    val x = "[A1.x,$y]"
}} else {open class A1(y: String) {
    val x = "[A1.x,$y]"
}}


open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}


val f = true
try
{open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}}
catch(e: Exception){}
finally{}


fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y£// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}


val t = false
when (t) {
 true -> {fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}}
 else -> {fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}}
}


fun main(args: Array<String>) {
    println(box())
}
y×// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}


val a = false
if (a) {fun main(args: Array<String>) {
    println(box())
}} else {fun main(args: Array<String>) {
    println(box())
}}

y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1
val b = false
try
{(y: String)}
catch(e: Exception){}
finally{}
 {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2
val j = false
try
{(y: String)}
catch(e: Exception){}
finally{}
 {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String 
val n = false
try
{{
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}}
catch(e: Exception){}
finally{}


fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) 
val m = true
if (m) {{
    println(box())
}} else {{
    println(box())
}}

y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    
val j = true
try
{val x = "[A1.x,$y]"}
catch(e: Exception){}
finally{}

}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yµ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    
val k = true
if (k) {val x = "[A2.x,$y]"} else {val x = "[A2.x,$y]"}


    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y=// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    
val k = false
when (k) {
 true -> {inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }}
 else -> {inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }}
}


    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yJ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    
val g = true
when (g) {
 true -> {fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }}
 else -> {fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }}
}


    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¿// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    
val j = false
if (j) {fun foo() = A2("#baz").baz()} else {fun foo() = A2("#baz").baz()}


    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y // Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    
val u = true
when (u) {
 true -> {fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }}
 else -> {fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }}
}

}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    
val u = false
try
{val r3 = A2("f").bar()}
catch(e: Exception){}
finally{}

    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    
val d = false
try
{if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"}
catch(e: Exception){}
finally{}

    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    
val n = false
try
{val r4 = A2("gg").foo()}
catch(e: Exception){}
finally{}

    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yæ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    
val d = false
if (d) {if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"} else {if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"}


    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    
val v = false
try
{return "OK"}
catch(e: Exception){}
finally{}

}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(
val r = false
try
{args: Array<String>}
catch(e: Exception){}
finally{}
) {
    println(box())
}
y°// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    
val d = true
if (d) {println(box())} else {println(box())}

}
y¬// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(
val j = false
if (j) {y: String} else {y: String}
) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = 
val y = false
try
{"[A1.x,$y]"}
catch(e: Exception){}
finally{}

}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y«// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(
val w = true
if (w) {y: String} else {y: String}
) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = 
val c = false
try
{"[A2.x,$y]"}
catch(e: Exception){}
finally{}


    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y8// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String 
val j = true
when (j) {
 true -> {{
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }}
 else -> {{
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }}
}


    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = 
val z = true
try
{A2("#baz").baz()}
catch(e: Exception){}
finally{}


    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yø// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String 
val z = true
if (z) {{
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }} else {{
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }}

}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y»// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): 
val x = true
when (x) {
 true -> {String}
 else -> {String}
}
 {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y°// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = 
val w = false
if (w) {A2("f").bar()} else {A2("f").bar()}

    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÃ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = 
val i = true
when (i) {
 true -> {A2("gg").foo()}
 else -> {A2("gg").foo()}
}

    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return 
val e = true
try
{"OK"}
catch(e: Exception){}
finally{}

}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    
val k = true
try
{println}
catch(e: Exception){}
finally{}
(box())
}
yÒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        
val i = false
if (i) {constructor(p: String) : super("[B1.param,$p]")} else {constructor(p: String) : super("[B1.param,$p]")}


        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        
val y = true
try
{fun foo() = x + ";" + this@A2.x + ";"}
catch(e: Exception){}
finally{}

    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÿ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        
val s = false
if (s) {return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }} else {return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }}

    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = 
val t = false
try
{A2("#baz")}
catch(e: Exception){}
finally{}
.baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¨// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").
val t = false
if (t) {baz()} else {baz()}


    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        
val i = true
try
{// Stacktrace2
        class C : B1("baz") {}}
catch(e: Exception){}
finally{}

        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        
val r = false
try
{return C().foo()}
catch(e: Exception){}
finally{}

    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = 
val c = true
try
{A2("f")}
catch(e: Exception){}
finally{}
.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").
val u = true
try
{bar()}
catch(e: Exception){}
finally{}

    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yß// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (
val f = true
when (f) {
 true -> {r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"}
 else -> {r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"}
}
) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") 
val j = false
try
{return "fail3: $r3"}
catch(e: Exception){}
finally{}

    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y«// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = 
val q = false
if (q) {A2("gg")} else {A2("gg")}
.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").
val y = false
try
{foo()}
catch(e: Exception){}
finally{}

    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (
val s = false
try
{r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];"}
catch(e: Exception){}
finally{}
) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÉ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") 
val d = false
when (d) {
 true -> {return "fail3: $r4"}
 else -> {return "fail3: $r4"}
}


    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$
val q = false
if (q) {y} else {y}
]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y£// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$
val c = true
if (c) {y} else {y}
]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¼// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = 
val z = false
if (z) {x + ";" + this@A2.x + ";"} else {x + ";" + this@A2.x + ";"}

    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y©// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): 
val v = false
if (v) {String} else {String}
 {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y÷// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return 
val q = true
if (q) {with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }} else {with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }}

    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = 
val m = true
if (m) {A2} else {A2}
("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").
val j = true
when (j) {
 true -> {baz}
 else -> {baz}
}
()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun 
val g = true
if (g) {A2} else {A2}
.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¼// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): 
val p = false
when (p) {
 true -> {String}
 else -> {String}
}
 {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return 
val q = false
try
{C().foo()}
catch(e: Exception){}
finally{}

    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = 
val v = true
if (v) {A2} else {A2}
("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").
val b = true
when (b) {
 true -> {bar}
 else -> {bar}
}
()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (
val i = true
when (i) {
 true -> {r3}
 else -> {r3}
}
 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¥// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 
val s = false
if (s) {!=} else {!=}
 "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÇ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != 
val e = false
if (e) {"[A1.x,[B1.param,bar]];[A2.x,#bar];"} else {"[A1.x,[B1.param,bar]];[A2.x,#bar];"}
) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¯// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return 
val u = false
if (u) {"fail3: $r3"} else {"fail3: $r3"}

    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = 
val x = false
try
{A2}
catch(e: Exception){}
finally{}
("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¹// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").
val u = false
when (u) {
 true -> {foo}
 else -> {foo}
}
()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (
val m = false
when (m) {
 true -> {r4}
 else -> {r4}
}
 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¥// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 
val l = false
if (l) {!=} else {!=}
 "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != 
val z = true
try
{"[A1.x,[B1.param,baz]];[A2.x,#baz];"}
catch(e: Exception){}
finally{}
) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return 
val i = false
try
{"fail3: $r4"}
catch(e: Exception){}
finally{}


    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yº// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: 
val b = true
when (b) {
 true -> {Array}
 else -> {Array}
}
<String>) {
    println(box())
}
y»// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(
val w = false
when (w) {
 true -> {box()}
 else -> {box()}
}
)
}
y¨// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: 
val v = true
if (v) {String} else {String}
) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¼// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: 
val k = false
when (k) {
 true -> {String}
 else -> {String}
}
) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¾// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(
val r = true
when (r) {
 true -> {p: String}
 else -> {p: String}
}
) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¨// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : 
val z = false
if (z) {super} else {super}
("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÈ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = 
val h = true
when (h) {
 true -> {x + ";" + this@A2.x}
 else -> {x + ";" + this@A2.x}
}
 + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x 
val f = true
try
{+}
catch(e: Exception){}
finally{}
 ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + 
val d = true
when (d) {
 true -> {";"}
 else -> {";"}
}

    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return 
val t = false
try
{with}
catch(e: Exception){}
finally{}
(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return 
val o = true
try
{C()}
catch(e: Exception){}
finally{}
.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().
val v = true
try
{foo()}
catch(e: Exception){}
finally{}

    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¦// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(
val g = false
if (g) {box} else {box}
())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : 
val r = true
when (r) {
 true -> {A1}
 else -> {A1}
}
 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y©// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = 
val q = true
if (q) {x + ";"} else {x + ";"}
 + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" 
val l = false
if (l) {+} else {+}
 this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¬// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + 
val y = false
if (y) {this@A2.x} else {this@A2.x}
 + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) 
val b = false
try
{{
            class C : B1("bar") {}
            C().foo()
        }}
catch(e: Exception){}
finally{}

    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¨// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(
val d = true
if (d) {"#baz"} else {"#baz"}
).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : 
val d = false
try
{B1}
catch(e: Exception){}
finally{}
("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¶// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return 
val i = true
when (i) {
 true -> {C}
 else -> {C}
}
().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¹// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().
val k = false
when (k) {
 true -> {foo}
 else -> {foo}
}
()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¥// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(
val b = true
if (b) {"f"} else {"f"}
).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $
val c = false
try
{r3}
catch(e: Exception){}
finally{}
"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¦// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(
val n = true
if (n) {"gg"} else {"gg"}
).foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $
val k = true
try
{r4}
catch(e: Exception){}
finally{}
"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(
val a = false
try
{"[B1.param,$p]"}
catch(e: Exception){}
finally{}
)

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = 
val r = false
if (r) {x} else {x}
 + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x 
val u = true
try
{+}
catch(e: Exception){}
finally{}
 ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + 
val z = true
try
{";"}
catch(e: Exception){}
finally{}
 + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yª// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + 
val y = false
if (y) {this@A2} else {this@A2}
.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.
val j = true
try
{x}
catch(e: Exception){}
finally{}
 + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¿// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(
val j = true
when (j) {
 true -> {A2("#bar")}
 else -> {A2("#bar")}
}
) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yú// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) 
val q = false
when (q) {
 true -> {{
            class C : B1("bar") {}
            C().foo()
        }}
 else -> {{
            class C : B1("bar") {}
            C().foo()
        }}
}

    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¼// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: 
val v = false
when (v) {
 true -> {String}
 else -> {String}
}
) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y§// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + 
val z = false
if (z) {this} else {this}
@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(
val n = true
when (n) {
 true -> {A2}
 else -> {A2}
}
("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yâ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            
val x = false
when (x) {
 true -> {class C : B1("bar") {}
            C().foo()}
 else -> {class C : B1("bar") {}
            C().foo()}
}

        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(
val c = true
try
{"baz"}
catch(e: Exception){}
finally{}
) {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¼// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<
val p = false
when (p) {
 true -> {String}
 else -> {String}
}
>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$
val v = false
if (v) {p} else {p}
]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¦// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this
val x = false
if (x) {@A2} else {@A2}
.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            
val q = true
if (q) {class C : B1("bar") {}} else {class C : B1("bar") {}}

            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¾// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            
val e = true
when (e) {
 true -> {C().foo()}
 else -> {C().foo()}
}

        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : 
val u = false
try
{B1}
catch(e: Exception){}
finally{}
("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¨// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(
val q = true
if (q) {"#bar"} else {"#bar"}
)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¦// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            
val c = false
if (c) {C()} else {C()}
.foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¸// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().
val t = false
try
{foo()}
catch(e: Exception){}
finally{}

        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            
val e = false
when (e) {
 true -> {C}
 else -> {C}
}
().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y·// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().
val a = true
try
{foo}
catch(e: Exception){}
finally{}
()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¥// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : 
val r = false
if (r) {B1} else {B1}
("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yº// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(
val s = true
when (s) {
 true -> {"bar"}
 else -> {"bar"}
}
) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¤// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : 
val o = true
if (o) {B1} else {B1}
("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yl// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    (
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yj// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        (constructor(p: String)

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor((p) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x (+) ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + (this@A2.x) + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            (C()).foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y!!]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2!!("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C()!!.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box!!())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1!! {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1!!("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f"!!).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg"!!).foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x!! + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x!! + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String!!) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this!!@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): (String)? {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): (String)? {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun (A2)?.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): (String)? {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: (Array<String>)?) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: (String)?) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: (String)?) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : (A1)? {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: (String)?) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<(String)?>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : (B1)?("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : (B1)?("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2!!.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")!!.baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f")!!.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg")!!.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 == "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 == "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yˆ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = (x + ";").plus(this@A2.x) + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : (("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2B1"gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: "#bar") {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(String)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2[A1.x,[B1.param,baz]];[A2.x,#baz];x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != ".") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            Cgg.foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("()").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String} {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    )
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") ()}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar{
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")("bar") {
            class C : B1) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C").foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3(
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";r3
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val " = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: )) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];"String return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(box())args: Array<String>) {
    println(
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "Array" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: ;<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,.]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")$ybaz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        fun with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    return A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$("#bar")]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2y) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    {
            class C : B1("bar") {}
            C().foo()
        }
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) val x = "[A1.x,$y]"
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 [A1.x,[B1.param,baz]];[A2.x,#baz]; A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "=") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    $
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    )

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz(}

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + String@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<this>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1A2("#bar") {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with((y: String)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2".bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3("f")
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1{
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    } {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String (y: String)

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(A2("gg").foo()bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = "
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: B1) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : String("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : (("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2B1"f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = box[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println("())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("barfail3: ) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return ""$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = this
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + "[A1.x,$y]"@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() B1("baz") x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : = {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    r3

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $}"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,"]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar$y)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        baz

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("constructor(p: String) : super("[B1.param,$p]")") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$}]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    p

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar:
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args() Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$class C : B1("bar") {}]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            p
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x return "OK" "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    =
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(")") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg"baz.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + }.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
this@A2

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    )

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    } {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + {;" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") "}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun =() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 foo A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = :

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args"[A2.x,$y]" Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" B1("baz") this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : + {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) . super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz"):baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 " A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(:#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(}())
box
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,[B1.param,baz]];[A2.x,#baz];"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,$y]") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    String class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): inner open {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = !=

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 "[A2.x,$y]" "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    " x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";val + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("$r3").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: f"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar()) String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];": return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg")box()foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(.)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
        // Stacktrace1
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$!=]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 y "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
(

fun main(args: Array<String>) {
    println}box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "("#baz")$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2[A1.x,.baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar"()) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz)

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + "return "fail3: $r4""
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") ;

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(baz) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").A2("#bar")()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor!=p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 ( "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + println.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    this@A2(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(yA2 String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(:("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    (

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }"baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo(fun
        }
    }

    fun foo() = A2("#baz").baz()

    ) A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1({) y: String
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
#bar

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("// Duplicated bug: KT-10835")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2({
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }).baz()

    fun A2.baz(): String "#baz"
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}
        return C().foo()
    }
}

// Stacktrace2
        class C : B1("baz") {}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this(.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C@A2).foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return withr3 {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $(A2("#bar"))"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : ( {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().fooA1)
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")B1baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : .("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): return "fail3: $r3" {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") String
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("val r4 = A2("gg").foo()") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    baz
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : )("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz(B1

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar(if
    ) (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.= + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 x A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2{
    println(box())
}"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) (
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorB1p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : (("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz((): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C).foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) String
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<{>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3box
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println("())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return if
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    C().foo() (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun return "fail3: $r3".baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") A2
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class ( : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if Cr3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + )
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];"";" return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar)): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C((.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x (A2("#bar")) ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with+ {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "()$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar[A1.x,
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("baz$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.[B1.param,(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C()barfoo()
    }
}

fun box(): String {
    val r3 = A2("f")..()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : f {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("B1("bar")").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(""#baz"$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2([B1.param,).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo(B1 = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : )("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];""
    val r4 = A2("gg").foo()
    if ($r3) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚(
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1// Original bug: KT-21362"bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class A2("#baz") : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = B1.baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : )("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"B1 return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,(]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2$y"f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(String: y) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg"().foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box))
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.bazbar()): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").(
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x foo "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").=()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return println.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    C()(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#barC)) {
            class C : B1("bar") {}
            "().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = [A1.x,[B1.param,bar]];[A2.x,#bar]; + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "x") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class fun foo() = A2("#baz").baz() : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    B1

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String" {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y])

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(().foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box"gg"))
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2String"#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): ( {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(".") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg")barfoo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(ysuper String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : :("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }
    }

    fun bar(): String x + ";" + this@A2.x + ";"

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y( String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C:).foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : class C : B1("bar") {}
            C().foo() {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            A1
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2((: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if yr3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2("#bar")x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2.) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 "fail3: $r3" "[A1.x,[B1.param,bar]];[A2.x,#bar];") return !=
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + B1@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : this("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(")

        fun foo() = x + ";"[B1.param,$p]" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().fooC)
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return (().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

:

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(argsopen class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
} Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: box) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(String())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $("gg")"
    val r4 = A2r3.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "($y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2[A2.x,"#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    "
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")println {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    )(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C()(box())foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println.
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1({) "baz"}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];" this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (+) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : C().foo() {}
        return B1("baz")
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,x + ";" + this@A2.x + ";"]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = $y
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: () {
    println(boxArray<String>))
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = C
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class x + ";" + this@A2.x + ";" : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$ybaz"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.](): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y";""
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ] + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open A1 A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : class {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().Array<String>
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: foo()) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : args {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(A1: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            r4 C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $class"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo}
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
()

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: !=r3"
    val r4 = A2("gg").foo()
    if (r4 $ "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz"(p: String) {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        C().foo() foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return fun
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

{ class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") open}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorA2 : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with((p: String)("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p)")

        fun foo(] = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]()

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo") = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

baz class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("open") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    C().foo()

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().)()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo(foo
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String fun main(args: Array<String>) {
    println(box())
}

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

{
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        String
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): fun foo() = x + ";" + this@A2.x + ";" {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    B1

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : }("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]bar)

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f")."()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p) String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo(:
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1: {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar()(y: String) String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(""").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];#baz) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar{
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    })) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String "
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : return "fail3: $r4" {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") A1

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        "
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OKreturn with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") fun main(args: Array<String>) {
    println(box())
}}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

{
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String )
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box({)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun barC): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            (().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$foo()]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").p
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fail3:  A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fun$r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun "gg".baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(A2).foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("!=").foo()
    if (r4 gg "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): (args: Array<String>) {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun mainString {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo") = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg().foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) "

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar{
    val x = "[A1.x,$y]"
})) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y"f""
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(]).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "bar"[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        ()
        return C// Stacktrace2
        class C : B1("baz") {}.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("fString).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<">) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(pfun String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    : A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3()
    val r4 = A2("gg").foo"
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2#bary: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("(")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : ( {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun fooA1) = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

!= class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 open "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(#baz) {}
            C().foo()
        }
    }

    fun foo() = A2(""bar"").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2box()"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(()
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,return C().foo()y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        $
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    B1("bar")

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : } {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return // Stacktrace2(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        with
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun fail3: .baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "A2$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : "("barB1) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    [A1.x,[B1.param,bar]];[A2.x,#bar];

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "}") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = () + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").bazx + ";" + this@A2.x

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: @) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + thisStringA2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2)baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo(.
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "($y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if [A2.x,r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")(baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box.))
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    B1

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : }("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    )

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C(}.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        } + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        x
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$yA2"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = ]("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().println()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    foo(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

OK

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + (
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo";")
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().fooB1("baz")
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : () {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    [A1.x,

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo}
        }
    ()

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2return"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        ( C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,()]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar$y
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String "
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK{
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    "
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("String")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<#bar>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

x class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.open + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$pr4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];"")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (]) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): "fail3: $r4" {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return String

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
val x = "[A2.x,$y]"

open class A2(y: String) {
    }

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = box.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(A2("gg")())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    " A2.baz(): String {
        // Stacktrace2
        class C : B1(funbaz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

return "OK" class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    open
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        "[A1.x,[B1.param,bar]];[A2.x,#bar];" C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != return) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class ()(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").bazA1

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C".foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(()baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open String B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): class {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
return

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") } "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + """ + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar;) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo(Array<String>
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: )) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y) String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f":.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("return C().foo()")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        #bar
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ")" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box();
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").bazreturn "fail3: $r3"

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") ()
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C!=).foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 ( "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorStringp: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): ( {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + C().foo()@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            this
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorA2p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun (.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): ) {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f"String.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = ""$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";[A1.x, + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        (
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2// Stacktrace2"gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")."()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("ggbaz).foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1Array {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: ("baz")<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1B1("baz") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : ("bar") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(C().foo()) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return "bar"
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : @ {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + thisA1A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.bazr4): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (( != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$.]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f")pbar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): return "fail3: $r3" {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") String
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    String

    return "OK"
}

fun main(args: Array<if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4">) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class box(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun A1(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "String$r4"

    return "OK"
}

fun main(args: Array<fail3: >) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$)]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar"y) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (main) return "fail3: $r4"

    return "OK"
}

fun r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];"(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        )
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg"fun foo() = x + ";" + this@A2.x + ";".foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo(A2 = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = )("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String box()
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println({)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String r4

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: ${
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val A2("gg").foo() = r4
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 String

    fun bar(): {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    } {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        A2("f").bar()
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = fun foo() = x + ";" + this@A2.x + ";"
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz"{.baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String )
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo(box()) = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println()
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : bar {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("A1") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = r4("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (A2 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz"gg").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    fail3:  (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "if$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").bazr4

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (() != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2A2("gg").foo()"f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = (
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(Array: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: p<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "()" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar;
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    return r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") val "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2foox + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C()..()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2)"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C((.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun fooB1) = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : (("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1foo {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().(y: String)()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            C
            class C : B1("bar") {}().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("bazbox) {}
        return C().foo()
    }
}

fun "(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(() {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return CA2("#bar")).foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : : {
        constructor(p: String) A1 super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") String}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): { {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : {("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String super
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val ( = "[A1.x,$y]"
}

open class A2xy: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().fooString)
    }
}

fun box(): ( {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(()("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(boxA2)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: #baz) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("String").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: "fail3: $r3") {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return String
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "fun foo() = A2("#baz").baz()$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    [A2.x,

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            " C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(classbaz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) "fail3: $r3"
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return {
            class C : B1("bar") {}
            C().foo()
        }
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 class
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        { C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"return return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    ) "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            (args: Array<String>) C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun mainclass {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "(") return "fail3: $r3"
    val r4 = A2("gg").foo[A1.x,[B1.param,bar]];[A2.x,#bar];)
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar})) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {"
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(foo) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun y: String() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz()("gg") String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2:.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}) String

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foofun main(args: Array<String>) {
    println(box())
}) = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

(
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")B1 {
            class C : )("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): > {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<StringString) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C((.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar))
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("<String>") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Arraybaz) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        )

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(constructor(p: String) : super("[B1.param,$p]"): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fail3: 

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : r4 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $A1"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + baz@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("this") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        foo with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().return()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    } String
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = } + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
x

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p$r3")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: ]"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (box() != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(r3)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : .

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")super("[B1.param,$p]")baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(!=[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 " "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,A2]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = $p("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").A2

    fun baz().baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return returnfail3: $r4"

    " "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2>"#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String() {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

B1 class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : open("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return gg(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("with").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open "#baz" A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(class).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    this
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2A2"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = (("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + B1("baz") + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : this@A2.x {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: Array"

    return "OK"
}

fun main(args: $r4<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val "OK" = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return x
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        " foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return funfail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C()val r4 = A2("gg").foo()foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    .
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return String(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): with {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String this

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(f).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(""#baz"").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y$"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: ]r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != r4) return "fail3: $"[A1.x,[B1.param,baz]];[A2.x,#baz];""

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(A2: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun p.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,>]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String$y) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(ybox String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun :(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : =("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 B1 A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x } ";" + this@A2.x + ";"
    +

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$yif (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4""
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    ]

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

A1 class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : open {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") OK
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "return "fail3: $r3""
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : ( {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    printlnA1box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$C()]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return y.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = )("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar(A2
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$ybox"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(]())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): ("f") {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2String.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : B1

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : super("[B1.param,$p]")("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : :

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C super("[B1.param,$p]") B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p// Stacktrace2")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        ]
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

A2

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = open class A1(y: String) {
    val x = "[A1.x,$y]"
}("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,[B1.param,bar]];[A2.x,#bar];$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar))
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>( {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.return + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") x "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(yfoo String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").:()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorCp: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class ( : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super"fail3: $r3"

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return ("[B1.param,$p]")
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String ()
        // Stacktrace2
        class C : B1("baz") {}
        return C{.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + #baz@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("this").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + """ + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz;).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: "fail3: $r4") {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return String

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 "
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3{
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = fun + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    x A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun barB1: String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : ()("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    box()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(fun foo() = A2("#baz").baz())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            if().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    C (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun fail3: () = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "foo$r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(()[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo"
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,A2("gg")p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = $.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x foo() ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().+
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz(args: Array<String>))

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main( {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg"".foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return )OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

A2

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = open class A1(y: String) {
    val x = "[A1.x,$y]"
}("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor"p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz().baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foofoo) = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").(()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(bar: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").y()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: foo"
    val r4 = A2("gg").$r3()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar")
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];() return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return withString {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<(A2("#bar"))>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(()) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun fooA2("#bar") = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4" {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    String

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2return "fail3: $r4".baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") ("#baz")

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = ()[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar": String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: () : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if Stringr3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return String

    return "OK"
}

fun main(args: Array<"fail3: $r4">) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: ") {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(String#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    val x = "[A2.x,$y]"

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(}: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {p
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,p: String]"

    inner open class B1 : A1 {
        constructor($y) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + "#bar";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): " {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#bazString).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String String

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz"r4 {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $)"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(() {
            class C : B1("bar") {}
            CA2("#bar")).foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") println(box())}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    {
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar)) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz"".baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with("#bar"(A2)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"fail3: $r4"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class = : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 B1 A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$yval r3 = A2("f").bar()"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    ]
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : () {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").fooA1
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return ".foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(C()gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = x[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = " + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").String()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): baz {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : () {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.bazA1: String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo(
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main()args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]"gg

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(")").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.args: Array<String> + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(x) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        :
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C // Stacktrace1 B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        [A1.x,[B1.param,bar]];[A2.x,#bar];
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "// Stacktrace1") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    ;
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(:) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(py: String String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

#bar

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = {
    println(box())
}.baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) A2("#baz")
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: Stringfail3:  : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return ")$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if ([A1.x,) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C()A2foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun ..baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f")foo()bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg")..
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4" return "fail3: $r3"
    val r4 = A2("gg").foo()
    )

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (foo) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor([A1.x,[B1.param,baz]];[A2.x,#baz];) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "p: String") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) (

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo{
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
})
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x () ";"
    }

    fun bar+: String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: r4) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val String = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz>: String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String()) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("bazgg) {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(""").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2baz) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").("#bar")()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) "
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2({
            class C : B1("bar") {}
            C().foo()
        }gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("foo()") {}
            C().bar
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val $ = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: xr3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        +(p: String) : super("[B1.param,$p]")

        fun foo() = x constructor ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : " {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4A1

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.A2 + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(x("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = println(box())("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    A2
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$constructor(p: String) : super("[B1.param,$p]")]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        y

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + } + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
";"
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.A2(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = baz("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    $r3 r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: val"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super="[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 ( A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) A2

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun {
    val x = "[A1.x,$y]"
}.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return Arrayfail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: "<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("()").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(boxf)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1{}y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") (
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): () {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").barString
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$[A1.x,[B1.param,baz]];[A2.x,#baz];]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "y") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2}x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {.
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,return "fail3: $r4"]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") $p

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun // Stacktrace2.baz(): String {
        A2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x String ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<+>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: return C().foo()) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        String
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz"fun {}
        return C().foo()
    }
}

) box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
String

open class A1(y: // Duplicated bug: KT-10835) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1"f""bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(().bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") OK
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "{}"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + "baz"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(";") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: StringA2("#baz") {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = ).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("ffun).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

" main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$yif"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    ] (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return )(A2("#bar"with) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(=f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 " A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            baz
            C().foo()
        }
    }

    fun foo() = A2("#baz").class C : B1("bar") {}()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C!=).foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 ( "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open A1 B1 : class {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open ) B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box()class
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") (
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar{})
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = } + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
x + ";" + this@A2.x
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(".$p]")

        fun foo() = x + ";" + this@A2[B1.param,x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): OK {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "String"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {return
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    } "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = baz().A2("#baz")

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return args: Array<String>.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(C()) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";C().foo()
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return "
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(""$p]")

        fun foo() = x + ";" + this@A2.x + ";[B1.param,
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("gg") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("bar").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1println {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    (y: String)(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(A2("f"): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = ).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): " {
        // Stacktrace1
        return with(A2("#barString)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorfoop: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun (() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 ("gg") A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2=.foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]"=

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() ) A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = r3

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (A2("#baz").baz() != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];" {
    val r3 = A2("f").bar()
    if (String) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + r4
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $";""

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    return "fail3: $r4" (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") if

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fail3:  foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fun$r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorfun : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    (p: String) A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];"()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (baz) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
"gg"

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2(}).foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open [A1.x,[B1.param,baz]];[A2.x,#baz]; A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "class") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorreturn with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        (
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1((: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return Cy).foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = bar
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(""[A1.x,$y]"") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (return) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];" "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(ifbar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    " (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if ()r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];" return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = val.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    A2("f") r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = ) + ";" + this@A2.x + ";"
    }

    fun bar(x: String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f")."
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return bar()fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") OK}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "{"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]=)

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 " A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        "[A1.x,[B1.param,baz]];[A2.x,#baz];" C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != return) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : ()("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(boxsuper)
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 gg
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("{").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#barC)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class " : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: () {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").bazString)

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): . {
    val r3 = A2("f")Stringbar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: Stringbox : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun )(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x ( ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main+args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    A2

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(fail3: #bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return ""$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = Array<String> + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: x) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "foo$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").[A1.x,()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with"fail3: $r3"A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return (
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4" ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    +

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: StringA2("f") {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = ).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(bar"") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        "baz"
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }) {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yb// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "OK") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): Creator {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: Test) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : Any {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : Z<BB> {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<R>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

operator class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(x: Int, y: Int = 99) : this("$x$y")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return foo(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yˆ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : Runnable {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<foobar>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "abc$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<test>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class Int : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<Int>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): Inner {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yv// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(xs: Any) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "Catch"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): Short {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("O")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŠ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("propValue4").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : Z {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y”// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val l = Array<Long>(3, {x -> x.toLong()})
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (count != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y>// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        list4.add(i)
        if (list4.size > 23) break
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yg// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (list2.size > 23) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 is "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(r) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "O" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y<// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun box() = (A<String>::foo)(A("OK"))
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: Int) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Int<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("OK").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@a.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yˆ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = Variants("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $a"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail $result"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    override fun bar(): String = "OK"

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(Long("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŽ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : AssertionError("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@Outer.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").F()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("papa")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return Int().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yu// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(i: Int) {
    println(box())
}
y‰// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(valThisRef1: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (String != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$a]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): LongR {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = OK().foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x ++ ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().A()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + "OK"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yt// Original bug: KT-21362
// FILE: b.kt

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(bar: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(str)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : String {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").Array()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("O") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").x()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2().baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").inner(1)
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y’// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").arrayOfNulls<Int> (5)

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yY// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (list1.size > 23) break

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("FAIL").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    HashMap(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<ULong>) {
    println(box())
}
y‰// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(::createContainer) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("*") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun Nothing() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(val x: String?) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ye// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "hello") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val a = A("start")
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yS// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val a: A = C()
    if (a.foo() != "A") return "Fail 1"
    if ((a as B).foo() != "A") return "Fail 2"
    if ((a as C).foo() != "A") return "Fail 3"
    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = Outer("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return i(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = A.x[0] += 1 + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŠ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: Collection<IN>) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Long) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : box("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    fun test(): String
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : ZZZ {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar(i)
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(delegate: CharSequence) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(0).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2().foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yw// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("OK")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): xs {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (result != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class i : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yL// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun box(): String = if (y == 5L) "OK" else "fail: $y"
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun box() = Test.test()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yb// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "OK") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.c(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‰// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("test !is L") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B() {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yv// Original bug: KT-21362
// WITH_RUNTIME

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("OK")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@toByte.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y•// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun equals1(a: Double, b: Double) = a.equals(b)

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y^// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (a == 1) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ye// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (y != x.bar(x)) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yz// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("OK$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(0)
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(val x: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : Y {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$list5]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: M) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("Reg") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yç// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun foo() {
    try {
        return
    } finally {
        result = "OK"
    }
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@boo.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = toString().baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yu// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super(42)

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‰// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : MIN_VALUE {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return Z().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    operator class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().list1()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(null) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "OK"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : A("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("fail")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x != ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‰// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$iterator]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yx// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = from.i

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(minus: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            UInt.MAX_VALUE
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): x {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    BooleanArray(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("TopFun").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : b("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "fail 1" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "OK" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun String.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

class My {
    var delegate: String by kotlin.properties.Delegates.notNull()
        private set

    init {
        delegate = "OK"
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$yOK"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun y(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$pOK")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŠ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            ArrayList().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yf// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (public != "OK") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yœ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            {
    class A {
        val x = this@testFun4
    }
    return A().x
}
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : B {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun toPrefixedString(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "OK$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("fail").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $to"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("Z1").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inline class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¨// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "fail in postfix increment: ${z.prop.value} != 1"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : HashMap<String, Any?>() {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(null)
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : String("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().s()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : String("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" in this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2()) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ya// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "O") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "OK$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÍ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
        val result = "OK"
    }

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(Int: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÝ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class Test1 {
    fun test1(): String {
        if (this is Test2) {
            return this.foo()
        }
        return "fail"
    }
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        // FOO referenced from inner class constructor with initialized 'this'
        inner class Inner {
            val fooFoo = FOO.foo()
        }

        val z = Inner()

        override fun foo() = "OK"

        override fun bar() = z.fooFoo
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yr// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = inner = i
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : A<T, Int, V>("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y™// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + "Try1Try2Finally2Finally1"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + "fail"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with("OK") {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1(a::magic) {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : Any?("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = M().doTest()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("LHX").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: listOf<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (logged != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("O").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun f(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun runNoInline(f: () -> Unit) = f()
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun A(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‹// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    public abstract var text: String
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yz// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return d
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "fail: " + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: ss) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(x())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = Cold + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = String("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().toString()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").T()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun Long() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

operator class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y´// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz(count, Foo(1, "x", if (count > 0) break else 2), 3)

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yt// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        open class T(var value: Int) {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1() {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("OK") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// IGNORE_BACKEND: NATIVE
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun i(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val Test = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("OK").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: res<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : A<Int>() {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¶// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") {
        return "Wrong elements for MaxUI..MaxUI step 1: $list1"
    }

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("fail")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(rhs: ArrayWrapper<T>) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y’// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    open var x: T = "Fail" as T
    get
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = a5 + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return s().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‹// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
        return "fail 3"
    }
yu// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if(stringConcat(3) == "LOL LOL LOL ") "OK" else "fail"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yz// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(l2) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// no local optimizations
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y]// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (n < 0) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yˆ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
    inner class Inner {
        private val x = {
            this@Foo.s
        }()
    }

    val f = Inner()

}

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return e().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(7) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : Int("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(a: A<String>) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            A(b).a()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$param]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = (::A)().result
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(f: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<AsInt>) {
    println(box())
}
yr// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x != Unit
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): Int {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun D(args: Array<String>) {
    println(box())
}
y5// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return toLong()
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(String: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yu// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    var x = ""
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") {
        throw Error()
    }
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = downTo("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(fn: (T) -> R) {
    println(box())
}
yÏ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            object: Your() {
        override val your = "K"
            get() = field
    }.foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y3// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return IC(10)
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : list3("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(-0.0) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(val x: Long) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: Long) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yz// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "OK"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = box + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(1).baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yÖ// Original bug: KT-21362
// Duplicated bug: KT-10835

inline class R(private val r: Int) {
    fun test() =
        object {
            override fun toString() = "OK"
        }.toString()
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(i) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").String()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun rec(n : Int) {
        fun x(m : Int, k : Int) {
            if (n > 0) rec(n - 1 + k)
        }

        x(0, 0)
    }

fun main(args: Array<String>) {
    println(box())
}
yŒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // KJS_WITH_FULL_RUNTIME
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yp// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(i) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            Outer.Nested().box()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: String) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().toLong()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = String + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$test]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‡// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$pfail 4")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yˆ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(toString("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y_// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
  operator fun component1() = i + 1
  operator fun component2() = i + 2
}

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y*// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
    fun foo(): Int
}

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" == this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : data("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): Short {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‹// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("fail: Long.or")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun c(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    vararg class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : Foo("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y©// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2(4, e = 8, f = 15, w = 16, aa = 23, ff = 42).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y¢// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$yWrong elements for MaxUI..MaxUI: "
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val boxed = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y†// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = String("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yt// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    var x: T
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y_// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
    fun foo(): C {
        class A : C({x}) {}
        return A()
    }
}

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().Foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(n: Int) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y™// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (true) {
                "foo"
            } else {
                "bar"
            }
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y<// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    class A: B() {
        override var foo = arrayOf<Int?>(12, 13)
}

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = s("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y„// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().Inner()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(a())
}
y1// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return "OK"
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().TODO()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@list3.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(foo())
}
y®// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {
    operator fun iterator() = It(from, to)
}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(A())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with("#3") {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y˜// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            interface A<T> {
    fun foo(t: T): String
}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = 1.(fun Int.() = this + 1)()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ya// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "K") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y…// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $list4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = foo("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("-") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(val result: String) {
    println(box())
}
yƒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x != ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : A("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yŒ// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val contents = ArrayList<T>()
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yc// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (result != 6) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(A: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

fun main(args: Array<String>) {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

    inner open class B1 : A1 {
    println(box())
}
y‚// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
    val r3 = A2("f").bar()
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
        // Stacktrace1
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];) return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4  A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box))
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ;"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())

yt// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = 
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yw// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println()
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1 {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yu// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C :B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C :  {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        returnC().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];")  "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String 
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C.foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x  "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 :A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") 
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + thisA2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 !="[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yz// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p])

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x +";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo)
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y`// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f).bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2"#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" +this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
     x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yr// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: ) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo) = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
     r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun .baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yv// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return 

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        funfoo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yk// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x ="[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p:String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = .bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class  : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C(.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box()
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz" {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

 class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: <String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2(#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")){
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yu// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = 
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yw// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1 {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if ( != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            ().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box: String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo)
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3  A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1() {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return .foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";"  this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar"){}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yr// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = 

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun (): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C  B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val  = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yw// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = 
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructorp: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: ) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y,// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String 
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C()foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];")  "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super"[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo()= A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return 
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
     (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner openclass B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3  "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar():String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C :  {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar():  {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yo// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() =  + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: ) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yi
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar() String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2(#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x ="[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz():  {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y^// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != ) return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return withA2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    valx = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2.bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];")return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return ""
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box() String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar)) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar) {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz)

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg".foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2. + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : ("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yt// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yg// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) 

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];" return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yí// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") 
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x  ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return"fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    printlnbox())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
     r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x= "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class (y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if(r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>){
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String)  super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(: String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yv// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return 
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yN// Original bug: KT-21362
// Duplicated bug: KT-10835



open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];" return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : ("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = ("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yo// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") 
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" +  + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C.foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

     open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            classC : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = [A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String 
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1(bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() =  + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + "; + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ys// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super()

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yo// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") 

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2().bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"


open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return ().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

 class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yû// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "$r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y-// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return 
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun (args: Array<String>) {
    println(box())
}
y¬// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) 

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: "
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
         with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open classB1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C()foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box():String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun () = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ym// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz(

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yx// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

     class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yv// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = ("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

     foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ""
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String){
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yl// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(: String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y:String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + 
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String) {
    println(box())
}
yX// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if () return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
         C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            .foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yl// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : 

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    (box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4  "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

     A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class  : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if ( != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
     x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C: B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()}
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y{// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "$r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yi// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = 
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];")return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y:String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inneropen class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

         foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1: A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val  = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() =x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open classA1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x  ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args Array<String>) {
    println(box())
}
yV// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 :  {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) 
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yo// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = ("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yw// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = 

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yx// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }


fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box)
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    funA2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1"bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + @A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar" {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class (y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2"gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f")bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y>// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) 
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: ArrayString>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") }
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo(
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }}

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz")baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yw// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2 {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]"

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val  = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y?// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String> {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open classA2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yg// Original bug: KT-21362


open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo(
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {// Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y}// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : ("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yy// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()}
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) 
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C :B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yl// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) 
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1{
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yz// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

 main(args: Array<String>) {
    println(box())
}
y€// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String{
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yl// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return"fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y|// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    valr3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ;" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 =A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C).foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
yt// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        
        return with(A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
y~// Original bug: KT-21362
// Duplicated bug: KT-10835

open class A1(y: String) {
    val x = "[A1.x,$y]"
}

open class A2(y: String) {
    val x = "[A2.x,$y]"

    inner open class B1 : A1 {
        constructor(p: String) : super("[B1.param,$p]")

        fun foo() = x + ";" + this@A2.x + ";"
    }

    fun bar(): String {
        // Stacktrace1
        return (A2("#bar")) {
            class C : B1("bar") {}
            C().foo()
        }
    }

    fun foo() = A2("#baz").baz()

    fun A2.baz(): String {
        // Stacktrace2
        class C : B1("baz") {}
        return C().foo()
    }
}

fun box(): String {
    val r3 = A2("f").bar()
    if (r3 != "[A1.x,[B1.param,bar]];[A2.x,#bar];") return "fail3: $r3"
    val r4 = A2("gg").foo()
    if (r4 != "[A1.x,[B1.param,baz]];[A2.x,#baz];") return "fail3: $r4"

    return "OK"
}

fun main(args: Array<String>) {
    println(box())
}
ÿÿ